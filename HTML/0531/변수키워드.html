<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Document</title>
</head>
<body>

    <!-- 변수 키워드 3종
  var     
    함수 범위 유효(function scope)
    재선언, 재할당 모두 가능 >> 개발자 간 오류 발생 가능성이 높아 사용을 지양
    
    - 키워드 생략을 허용 >> 의도치 않은 전역화 발생
    - 중복 선언 허용 >> 의도치 않은 값 변경
    - 호이스팅 적용 대상 >> 선언 이전 참조 가능의 비정상적인 코드 흐름 발생
    
    협업 중 개발자간 혼란과 코드 복잡도 증가를 보완하기 위한 새로운 키워드 도입(ES6)

  let
    블록 범위 유효(block scope)
    재선언 불가 >> 이미 사용중인 변수에 다른 값을 할당하여 발생될 예외를 차단
    재할당만 가능
    변수 사용전까지 초기화 되지 않음(선언과 초기화의 분리)

  const
    block scope
    재선언, 재할당 모두 불가
    선언 시 반드시 값이 할당되어야 함 (=초기화하지 않으면 에러 발생)
	  보통 대문자를 사용해서 선언 (강제는 아님, ex. const NUM = 7;)

    변하지 않는 값(상수)을 갖는 변수 생성 (=값을 재할당 할 수 없는 읽기전용 변수, 상수 변수)
    *참조타입(Array, Object, Function)에 사용 추천 >> 참조 타입은 주소를 참조하기 때문에 값 변경이 가능
-->




<script>
    /* 호이스팅은 자바스크립트만 가지는 자체적 기능이며, 
    선언부를 영역의 최상단으로 끌어올리는 기능을 하고, 그 대상은 var와 선언식 함수에만 적용됨
    호이스팅이 적용될만한 코드를 작성하지 않는 것이 중요! */

    // var v_varb; 선언만 된 상태로 영역의 최상단에 올려 버리는게 호이스팅이다
    console.log(v_varb);

    var v_varb = '전역변수';
    console.log(v_varb);

    function f_fnc() {
        // 키워드 생략시 전역화 전역화 발생으로 재선언 될 수 있음 주의
        v_varb = '지역변수'; 
        // alert("내부" + v_varb);

        for (var i=0; i<3; i++) {
            console.log("i변수 >>", i);   
        }
        // var의 유효범위는 함수영역이라서 i변수 참조 가능
        // let의 유효범위는 블럭영역이라서 i is not defined
        console.log("for 바깥 i변수 >>", i);

    }

    f_fnc();

    // alert("외부" + v_varb);

    // let v_varb = "재선언 이거 되나?"; // 재선언은 안돼
    v_varb = "재할당 이거 되나?"; // 재할당은 돼
    alert(v_varb);


    // const 상수변수 선언 - 재선언/재할당 불가로, 선언시 초기화 반드시 필요함
    const PTYPE = "기본형";
    // PTYPE = "기본형1"; // Assignment to constant variable. 상수변수라서 할당 불가

    // 객체의 key는 string으로 따옴표 사용유무 상관없음
    // value에는 각자 데이터의 형식에 맞게 작성 (string은 따옴표 사용)
    const RTYPE = {O: '오', 'b': '브', 'ject' : '젝트'};

    // primitive type : 기본형은 기본적으로 데이터가 불변한다.
    console.log(PTYPE[1]); // 임시적으로 래퍼클래스를 만들어 일부분의 정보에 접근가능
    PTYPE[1] = 'bon'; // 하지만 setting은 불가
    console.log(PTYPE);

    // 상수변수의 값은 변하지 않는다. 하지만 그 값이 참조형일 때
    // 참조형 데이터의 주소값을 가지므로 그 주소값은 변하지 않되,
    // 그 데이터의 변경은 가능함, 고로 상수변수에 참조형 데이터를 많이 씀
    console.log(RTYPE.ject);
    RTYPE.ject = "ZECT";
    console.log(RTYPE);

</script>
    
</body>
</html>