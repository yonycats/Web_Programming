<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Document</title>
</head>
<body>
  
  <p>1<span></span>★</p>
  <p>2<span></span>◆◆</p>
  <p>3<span></span>▲▲▲</p>

  <input type="button" value="text()">
  <input type="button" value="html()">
  <input type="button" value="val()">
  <hr>
  <button>each - 반복적으로 요소에 접근</button>
  <button>each - 반복적으로 요소의 정보 얻기</button>
  <hr>
  <button>선택자 대상 each()</button>
  <button>대상에 따른 each()</button>

  <script src="../../js/jquery-3.7.1.min.js"></script>
  <script>

    $("button").eq(0).on('click', function(){
      // each() - 대상 요소의 갯수만큼 반복적으로 함수를 호출

      // 선택자 대상 each() = %('선택자').each(fnc)
      // item : 배열 안에 들어있는 값들을 요소(element) 혹은 항목(item)이라고 한다.
      //        p요소와 p아이템은 같은 뜻
      $('p').each(function(index, item){
        // console.log('-_-' + index);
        // console.log( $('p') ); // 모든 p요소(3개)를 반환 -> 3회에 걸쳐서 (총 9개)
        // console.log( $('p').length ); // 요소의 갯수 반환 -> 3회에 걸쳐서

        // p요소 index의 모든 내용을 순차적으로 반환 (태그포함) - 3회에 걸쳐서
        // 여기에서의 this는 button임, button안에 있는 p를 순차적으로 반복
        // console.log( this ); // 순차적인 p요소 반환 (총 3개)
        // console.log( item ); // 순차적인 p요소 반환 (총 3개)

        // console.log( index ); // 순차적인 index 반환
        // 모든 p요소를 반환, 각 인덱스 별로 1개씩만 반환한다. (총 3개)
        console.log( $('p').eq(index) ); 
      });
    });
      

    $("button").eq(1).on('click', function(){

      // 선택자 대상 each()
      $('p').each(function(i, v){
        // console.log( $('p') ); // 모든 p요소(3개)를 3회에 걸쳐 반환 (총 9개)
        // console.log( $('p').text() ); // 모든 p요소의 내부정보 (tag는 제외)가 표현됨 (총 3회)
        // console.log( $('p').html() ); // 모든 P요소 중 첫번째 요소만 태그를 포함하여 출력
        
        // 여러번 중복 출력되는게 아니라 인덱스별로 1번씩만 출력되게 하기
        // html()는 제이쿼리 메소드이기 때문에 $를 붙임
        // 아래 3개의 인자는 같은 요소를 제공함
        console.log( $('p').eq(i).html() ); 
        console.log( $(this).html() );
        console.log( $(v).html() );

      });
    });


    // 대상에 따른 each() 문법 차이
    // $('선택자').each(fnc)
    // $.each(객체, fnc)
    
    // 제이쿼리 버전
    $('button').eq(3).on('click', function () {
      let obj = {
        a: 'apple', // '' 안해줘도 무조건 String으로 들어감
        b: 'banana',
        c: 'carrot'
      }

      let arr = ['btob', '비투비', '멜로디', 102];

      // 객체(배열포함) 대상 each()
      $.each(arr, function (i, v) {
        // console.log(this[0]); // 객체의 순차적인 속성을 제공 (String 타입으로, 래퍼객체)
        // console.log(v[0]); // 객체의 순차적인 속성을 제공, String, 기본타입 문자열 제공
        // console.log(i); // key
      });

      // 선택자 문법으로 선택
      // 선택자 대상 문법에 객체는 적용이 가능함
      $(arr).each(function(){
        console.log(this);
      });

      // 에러남 -> 객체 대상 문법에 선택자를 지정시 오류가 남
      // $.each('p', function(){
      //   console.log(this);
      // });
      
    });

    
    // 자바스크립트 버전
    document.querySelectorAll('button')[3].addEventListener('click', function(){
      let obj = {
        a: 'apple',
        b: 'banana',
        c: 'carrot'
      }

      let arr = ['btob', '비투비', '멜로디'];

      arr.forEach(function(currentValue ,index){
        // console.log(currentValue[0]);
        // console.log(index);
      });

    });

  </script>

</body>
</html>