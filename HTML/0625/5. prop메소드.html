<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Document</title>
</head>
<body>
  <div>
    <input type="checkbox" id="chkAll">전체선택 <br>
    <input type="checkbox" class="chk">1 <br>
    <input type="checkbox" class="chk">2 <br>
    <input type="checkbox" class="chk">3 <br>
    <input type="checkbox" class="chk">4 <br>
    <input type="checkbox" class="chk">5
  </div>
  
<script src="../../js/jquery-3.7.1.min.js"></script>
<script>
  // 전체선택 체크박스를 선택했을 때, 1~5가 체크상태로 변하도록 설정하기
  $('#chkAll').on('click', function(){
    // attr는 정적인 정보를 제공하기 때문에 아래처럼 적으면 기존에 없는
    // checked를 요청하기 때문에 undefined를 반환한다. 
    // console.log( $('#chkAll').attr('checked') );
 
    // property 사용
    // console.log( $('#chkAll').prop('checked') );
    let allChk = $('#chkAll').prop('checked'); // boolean값 반환

    $('.chk').prop('checked', allChk);
  });

  // 1~5를 모두 선택했을 때, 전체선택 체크박스가 체크상태로 변하도록 설정하기
  // 개별 선택으로 전체 체크박스 제어
  $('.chk').on('click', function(){
    let boxCnt = $('.chk').length;
    let chkCnt = $('.chk:checked').length;
    console.log(boxCnt, " | ", chkCnt);

    if (boxCnt == chkCnt) {
      // 전체선택을 체크하기
      $('#chkAll').prop('checked', true);
    } else {
      // 전체선택을 해제하기
      $('#chkAll').prop('checked', false);
    }

  });



</script>

</body>
</html>